<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Report Issue</title>
<style>
  /* Default Light Mode */
  body {
    background-color: #f5f5f5;
    color: #333;
    font-family: Arial, sans-serif;
    transition: background-color 0.3s, color 0.3s;
  }

  /* Dark Mode */
  body.dark-mode {
    background-color: #1e1e1e;
    color: #f5f5f5;
  }

  .container {
    max-width: 600px;
    margin: 50px auto;
    padding: 20px;
    border-radius: 10px;
    background-color: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: background-color 0.3s, color 0.3s;
  }

  body.dark-mode .container {
    background-color: #2c2c2c;
    box-shadow: 0 2px 10px rgba(255,255,255,0.1);
  }

  input, textarea, button {
    width: 100%;
    margin: 10px 0;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    transition: background-color 0.3s, color 0.3s, border 0.3s;
  }

  body.dark-mode input, 
  body.dark-mode textarea {
    background-color: #444;
    color: #f5f5f5;
    border: 1px solid #666;
  }

  body.dark-mode button {
    background-color: #666;
    color: #fff;
    border: none;
  }

  button.toggle-mode {
    width: auto;
    background-color: #007BFF;
    color: #fff;
    border: none;
    margin-bottom: 20px;
    cursor: pointer;
  }
</style>
</head>
<body>

<div class="container">
  <button class="toggle-mode">Toggle Dark/Light Mode</button>
  <h2>Report an Issue</h2>
  <form id="reportForm">
    <input type="text" name="name" placeholder="Your Name" required>
    <input type="email" name="email" placeholder="Your Email" required>
    <textarea name="issue" placeholder="Describe the issue..." required></textarea>
    <button type="submit">Submit Report</button>
  </form>
  <p id="confirmation" style="display:none;">Report sent successfully!</p>
</div>

<script>
  // DARK/LIGHT MODE TOGGLE
  const toggleButton = document.querySelector('.toggle-mode');
  toggleButton.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    // Save preference in localStorage
    if(document.body.classList.contains('dark-mode')) {
      localStorage.setItem('theme', 'dark');
    } else {
      localStorage.setItem('theme', 'light');
    }
  });

  // Load saved theme
  if(localStorage.getItem('theme') === 'dark') {
    document.body.classList.add('dark-mode');
  }

  // REPORT FORM SUBMISSION (Formspree)
  const form = document.getElementById('reportForm');
  const confirmation = document.getElementById('confirmation');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(form);

    try {
      const response = await fetch("https://formspree.io/f/mgvnyqnl", {
        method: "POST",
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        confirmation.style.display = 'block';
        form.reset();
      } else {
        alert('There was a problem submitting your report.');
      }
    } catch (error) {
      alert('Error sending report: ' + error);
    }
  });
</script>

</body>
</html>
